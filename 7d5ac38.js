(window.webpackJsonp=window.webpackJsonp||[]).push([[7,4],{332:function(e,t,r){},337:function(e,t,r){"use strict";var n={props:["weight"],data:function(){return{weights:[100,200,300,500,1e3]}},methods:{setActive:function(e){this.$emit("changeWeight",e)}}},o=(r(340),r(77)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"weights"},e._l(e.weights,(function(t){return r("p",{key:t,staticClass:"weights__item",class:{"weights__item--active":t===e.weight},on:{click:function(r){return r.preventDefault(),e.setActive(t)}}},[e._v("\n    "+e._s(t)+" г.\n  ")])})),0)}),[],!1,null,null,null);t.a=component.exports},338:function(e,t,r){"use strict";r(12),r(8),r(9),r(102),r(24),r(7),r(5),r(161);var n=r(3),o=r(88);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={components:{WeightSelect:r(337).a},data:function(){return{amount:1,amountRules:[function(e){return!!e||"Поле повиино бути заповнене"},function(e){return e>0||"Мінімальна кількість, дозволена для покупки - 1."}],weight:100}},computed:l(l({},Object(o.b)("cart",{cart:"getCart"})),{},{weights:function(){return Object.entries(this.item.price)},price:function(){return"gift-sets"===this.$route.params.name?"Від 200":this.item.price[this.weight]*Math.abs(this.amount)},countAvgStars:function(){return this.item.reviews.reduce((function(e,t){return e+t.rating}),0)/this.item.reviews.length},isExist:function(){return Boolean(this.cart.products.length)},isExistInCart:function(){var e=this;return!!this.cart&&this.cart.products.find((function(t){return t.productId===e.item.id}))}}),methods:{updateWeight:function(e){this.weight=e}}},h=r(77),component=Object(h.a)(d,void 0,void 0,!1,null,null,null);t.a=component.exports},339:function(e,t,r){},340:function(e,t,r){"use strict";var n=r(332);r.n(n).a},341:function(e,t,r){},357:function(e,t,r){"use strict";var n=r(339);r.n(n).a},358:function(e,t,r){"use strict";var n=r(341);r.n(n).a},359:function(e,t,r){},382:function(e,t,r){"use strict";r.r(t);r(12),r(8),r(7),r(5),r(9),r(24),r(44);var n=r(6),o=r(3),c=r(88);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={props:["item"],data:function(){return{amount:1}},computed:d(d({},Object(c.b)("cart",{cart:"getCart"})),{},{price:function(){return this.amount*this.item.product.price[this.item.weight]}}),mounted:function(){this.amount=this.item.amount},methods:{updateAmount:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("cart/UPDATE_CART_PRODUCT",{id:e.item.id,amount:e.amount});case 2:case"end":return t.stop()}}),t)})))()},removeItem:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("cart/REMOVE_CART_PRODUCT",e.item.id);case 2:case"end":return t.stop()}}),t)})))()}}},m=(r(357),r(77)),v=r(101),f=r.n(v),_=r(373),component=Object(m.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"item"},[r("img",{staticClass:"item__image",attrs:{src:e.item.product.image[0],alt:""}}),e._v(" "),r("h2",{staticClass:"item__name"},[e._v(e._s(e.item.product.name))]),e._v(" "),r("div",{staticClass:"item__row"},[r("p",{staticClass:"item__label"},[e._v("Вага:")]),e._v(" "),r("div",{staticClass:"item__field"},[e._v(e._s(e.item.weight)+" грам")])]),e._v(" "),r("div",{staticClass:"item__row"},[r("p",{staticClass:"item__label"},[e._v("Кількість:")]),e._v(" "),r("v-text-field",{staticClass:"item__field",on:{change:e.updateAmount},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1),e._v(" "),r("div",{staticClass:"item__price"},[e._v(e._s(e.price)+" грн.")]),e._v(" "),r("div",{staticClass:"item__remove",on:{click:e.removeItem}})])}),[],!1,null,null,null),O=component.exports;function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}f()(component,{VTextField:_.a});var j={components:{CartItem:O},mixins:[r(338).a],props:{headerName:{type:String,default:function(){return"Кошик"}}},data:function(){return{products:[]}},computed:w(w(w({},Object(c.b)("auth",{profile:"getProfile"})),Object(c.b)("cart",{cart:"getCart"})),{},{totalPrice:function(){return this.cart.products.reduce((function(e,t){return e+t.amount*t.product.price[t.weight]}),0)}}),methods:{checkout:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("cart"!==e.$route.name){t.next=3;break}return t.next=3,e.$router.push("/checkout");case 3:case"end":return t.stop()}}),t)})))()}}},k=(r(358),r(172)),x=Object(m.a)(j,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cart"},[r("h3",{staticClass:"cart__header"},[e._v(e._s(e.headerName))]),e._v(" "),r("h4",{staticClass:"cart__total"},[e._v(e._s(e.totalPrice)+" грн.")]),e._v(" "),r("div",{staticClass:"cart__items"},e._l(e.cart.products,(function(e){return r("CartItem",{key:e.id,attrs:{item:e}})})),1),e._v(" "),"cart"===e.$route.name?r("v-btn",{staticClass:"cart__action",attrs:{disabled:!e.isExist,color:"primary"},on:{click:e.checkout}},[e._v("Оформити замовлення")]):e._e()],1)}),[],!1,null,null,null);t.default=x.exports;f()(x,{VBtn:k.a})},397:function(e,t,r){"use strict";var n=r(359);r.n(n).a},446:function(e,t,r){"use strict";r.r(t);r(12),r(8),r(7),r(5),r(9),r(44);var n=r(6),o=(r(24),r(53),r(3)),c=r(218),l=r(88),d=r(382),h=r(338);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={components:{Cart:d.default},mixins:[h.a],data:function(){return{valid:!1,requiredRule:[function(e){return!!e||"Це поле повинно бути заповене"}],surname:"",name:"",email:"",emailRules:[function(e){return!!e||"Це поле повинно бути заповнене"},function(e){return/.+@.+\..+/.test(e)||"Заповніть це поле в правильному форматі"}],phoneNumber:"",address:{city:"",addressType:"Адреса",address:"",house:"",apartment:"",comment:""},warehouse:{city:"",addressType:"Відділення",warehouse:""},consult:!1,payMethod:"",payMethods:[{label:"Оплата при отриманні",value:"Оплата при отриманні",hint:"Якщо Ваше замовлення з оплатою при отриманні, то комісія нової пошти складе 20 грн + 2% від суми замовлення."},{label:"Переказ на карту Monobank",value:"Переказ на карту Monobank",hint:"З Вами зв`яжеться менеджер та надішле реквізити для оплати."},{label:"Безготівковий розрахунок",value:"Безготівковий розрахунок",hint:"Оплата для юридичних осіб та ФОП"}],payHint:"",deliveryMethod:"",deliveryMethods:[{label:"Нова Пошта",value:"Нова Пошта"},{label:"Кур`єрська доставка по Києву",value:"Кур`єрська доставка по Києву"}],deliveryHint:""}},computed:v(v({},Object(l.b)("auth",{user:"getUser",profile:"getProfile",addressProfile:"getAddresses",warehouseProfile:"getWarehouses"})),Object(l.b)("cart",{cart:"getCart"})),mounted:function(){this.user.loggedIn&&(this.surname=this.user.data.displayName.split(" ")[0],this.name=this.user.data.displayName.split(" ")[1],this.email=this.user.data.email,this.phoneNumber=this.user.data.phoneNumber),this.addressProfile&&(this.address=this.addressProfile),this.warehouseProfile&&(this.warehouse=this.warehouseProfile)},methods:{checkout:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=10;break}return r={id:Object(c.a)(),surname:e.surname,name:e.name,email:e.email,phoneNumber:e.phoneNumber,address:"Нова Пошта"===e.deliveryMethod?e.warehouse:e.address,delivery:e.deliveryMethod,pay:e.payMethod,consult:e.consult,speakingLanguage:e.profile.speakingLanguage||"Не вказано",products:e.cart.products},t.next=4,e.$store.dispatch("auth/CREATE_ORDER",r);case 4:return t.next=6,e.$store.dispatch("cart/CLEAR_CART_PRODUCTS");case 6:return t.next=8,e.$router.push({name:"order"});case 8:t.next=11;break;case 10:window.scrollTo({top:0,behavior:"smooth"});case 11:case"end":return t.stop()}}),t)})))()}}},_=(r(397),r(77)),O=r(101),y=r.n(O),w=r(172),j=r(432),k=r(381),x=r(376),C=r(433),P=r(434),R=r(360),E=r(373),component=Object(_.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"checkout"},[r("v-form",{ref:"form",staticClass:"checkout__left",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{rules:e.requiredRule,label:"Прізвище"},model:{value:e.surname,callback:function(t){e.surname=t},expression:"surname"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.requiredRule,label:"Ім'я"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.emailRules,label:"Ел. пошта"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.requiredRule,label:"Мобільний телефон"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),e._v(" "),r("v-checkbox",{attrs:{label:"Я потребую консультації щодо замовлення. Зателефонуйте мені."},model:{value:e.consult,callback:function(t){e.consult=t},expression:"consult"}}),e._v(" "),r("div",{staticClass:"checkout__block"},[r("h3",{staticClass:"block__header"},[e._v("Оплата")]),e._v(" "),r("v-radio-group",{attrs:{rules:e.requiredRule},model:{value:e.payMethod,callback:function(t){e.payMethod=t},expression:"payMethod"}},e._l(e.payMethods,(function(t,i){return r("v-radio",{key:i,attrs:{label:t.label,value:t.value},on:{click:function(t){e.payHint=e.payMethods[i].hint}}})})),1),e._v(" "),r("p",{staticClass:"block__hint"},[e._v(e._s(e.payHint))])],1),e._v(" "),r("div",{staticClass:"checkout__block"},[r("h3",{staticClass:"block__header"},[e._v("Доставка")]),e._v(" "),r("v-radio-group",{attrs:{rules:e.requiredRule},model:{value:e.deliveryMethod,callback:function(t){e.deliveryMethod=t},expression:"deliveryMethod"}},e._l(e.deliveryMethods,(function(e,i){return r("v-radio",{key:i,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),r("div",{staticClass:"block__hint"},["Нова Пошта"===e.deliveryMethod?r("div",{staticClass:"block__addresses"},[r("v-text-field",{attrs:{rules:e.requiredRule,label:"Місто"},model:{value:e.warehouse.city,callback:function(t){e.$set(e.warehouse,"city",t)},expression:"warehouse.city"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.requiredRule,label:"Відділення"},model:{value:e.warehouse.warehouse,callback:function(t){e.$set(e.warehouse,"warehouse",t)},expression:"warehouse.warehouse"}})],1):"Кур`єрська доставка по Києву"===e.deliveryMethod?r("div",{staticClass:"block__nested-fields"},[r("v-text-field",{attrs:{rules:e.requiredRule,label:"Місто"},model:{value:e.warehouse.city,callback:function(t){e.$set(e.warehouse,"city",t)},expression:"warehouse.city"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.requiredRule,label:"Вулиця"},model:{value:e.address.address,callback:function(t){e.$set(e.address,"address",t)},expression:"address.address"}}),e._v(" "),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{rules:e.requiredRule,label:"Будинок"},model:{value:e.address.house,callback:function(t){e.$set(e.address,"house",t)},expression:"address.house"}})],1),e._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{rules:e.requiredRule,label:"Квартира"},model:{value:e.address.apartment,callback:function(t){e.$set(e.address,"apartment",t)},expression:"address.apartment"}})],1)],1),e._v(" "),r("v-text-field",{attrs:{rules:e.requiredRule,label:"Коментар до адресу"},model:{value:e.address.comment,callback:function(t){e.$set(e.address,"comment",t)},expression:"address.comment"}})],1):e._e()])],1)],1),e._v(" "),r("Cart",{staticClass:"checkout__right",attrs:{"header-name":"Товари в корзині"}}),e._v(" "),r("v-btn",{staticClass:"checkout__action",attrs:{disabled:!e.isExist,color:"primary"},on:{click:e.checkout}},[e._v("Оформити замовлення")])],1)}),[],!1,null,null,null);t.default=component.exports;y()(component,{VBtn:w.a,VCheckbox:j.a,VCol:k.a,VForm:x.a,VRadio:C.a,VRadioGroup:P.a,VRow:R.a,VTextField:E.a})}}]);